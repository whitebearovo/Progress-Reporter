<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Progress Reporter</title>
    <script type="module" src="/main.js" defer></script>
  </head>

  <body>
    <main class="page">
      <header class="hero">
        <div>
          <p class="eyebrow">Progress Reporter</p>
          <h1>Linux process + media status, now with Tauri</h1>
          <p class="lede">Start the watcher, point it to your <code>.env.process</code> file, and keep an eye on the latest reported process/media.</p>
        </div>
      </header>

      <section class="card">
        <div class="field">
          <label for="config-path">Config file</label>
          <input id="config-path" type="text" value=".env.process" />
        </div>

        <div class="grid form-grid">
          <div class="field">
            <label for="cfg-api-url">API_URL</label>
            <input id="cfg-api-url" type="text" placeholder="https://api.example.com" />
          </div>
          <div class="field">
            <label for="cfg-api-key">API_KEY</label>
            <input id="cfg-api-key" type="text" placeholder="your key" />
          </div>
          <div class="field">
            <label for="cfg-watch-time">WATCH_TIME (s)</label>
            <input id="cfg-watch-time" type="number" min="1" value="5" />
          </div>
          <div class="field toggle">
            <label for="cfg-media-enable">MEDIA_ENABLE</label>
            <input id="cfg-media-enable" type="checkbox" checked />
          </div>
          <div class="field toggle">
            <label for="cfg-log-enable">LOG_ENABLE</label>
            <input id="cfg-log-enable" type="checkbox" checked />
          </div>
        </div>

        <div class="actions">
          <button id="save-config-btn">Save config</button>
          <button id="reload-config-btn" class="ghost">Reload</button>
          <button id="start-btn">Start watcher</button>
          <button id="stop-btn" class="ghost">Stop</button>
          <span id="session-tag" class="tag">—</span>
        </div>
        <p class="hint">编辑并保存配置后再启动 watcher。</p>
      </section>

      <section class="grid">
        <div class="card stat">
          <p class="label">Running</p>
          <p id="running" class="value">—</p>
        </div>
        <div class="card stat">
          <p class="label">Active process</p>
          <p id="process" class="value">—</p>
        </div>
        <div class="card stat">
          <p class="label">Media title</p>
          <p id="media-title" class="value">—</p>
        </div>
        <div class="card stat">
          <p class="label">Media artist</p>
          <p id="media-artist" class="value">—</p>
        </div>
        <div class="card stat">
          <p class="label">Last report</p>
          <p id="last-report" class="value">—</p>
        </div>
      </section>

      <section class="card log">
        <div class="log-head">
          <p>Messages</p>
          <button id="refresh-btn" class="ghost">Refresh</button>
        </div>
        <pre id="log-area">Idle</pre>
      </section>
    </main>
  </body>
</html>
